# Backtesting Strategy for US Equities

This project implements a backtesting strategy for US Equities using stock data retrieved via the `yfinance` library. The strategy incorporates LSMA (Least Squares Moving Average) and Gaussian filters, along with static take profit and stop loss mechanisms, to calculate returns effectively and profitably.

---

## Features

- **Dynamic Stock Data Retrieval**: Utilizes the `yfinance` module to fetch historical stock data.
- **Custom Indicators**: Implements LSMA and Gaussian filter to identify optimal trading signals.
- **Risk Management**: Incorporates static take profit and stop loss thresholds to manage risk effectively.
- **Backtesting Engine**: Tests the strategy over historical data to analyze its performance.

---

## File Structure

The project is organized into the following main files, with specific roles:

### 1. `Strategy`
Defines the core trading logic of the strategy, including the use of LSMA, Gaussian filters, and risk management techniques.

### 2. `StrategyTester`
Executes the backtesting process by running the Java files. Outputs performance metrics like:
- Cumulative Returns
- Profit/Loss 
- Maximum Drawdown

### 3. `Indicators`
Implements the technical indicators used in the strategy:
- LSMA (Least Squares Moving Average)
- Gaussian Filter. 

### 4. `StockData`
Handles the retrieval and formatting of stock data from Yahoo Finance using Python. Responsible for pre-processing the data into a usable format.

### 5. `StockDataManager`
Manages multiple stock data instances, allowing for batch testing of different stocks or time periods. (Java)

---

## How to Run

1. Clone the repository:
   ```bash
   git clone <https://github.com/Priyansh-Agrawal/Longshanks-HA-final-submission.git>
   cd Finance_project
   ```

2. Fetch stock data:
   Run script.py to gather all the stock datasets as required, edit the script.py according to your preference, and the list of stocks is saved in alltickers.txt
   ```python
   python3 script.py
   ```

3. Execute Backtesting:
   Run the `StrategyTester` file to execute the Java code, which applies the defined strategy to the collected stock data. Results will be generated after execution. In StrategyTester, input the csv absolute file path.

4. Analyze Results:
   View the performance metrics, as detailed below, to assess the strategy's effectiveness.

---

## Backtest Results

Below are the results generated by the backtesting process:

- **Initial Capital**: $1,000,000.00
- **Total P&L**: $218,178.06
- **Final Capital**: $1,218,178.06
- **Return**: 21.82%
- **Max Drawdown**: 3.70%
- **Annualized Sharpe Ratio**: 1.929637

---


